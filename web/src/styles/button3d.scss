@import url('https://fonts.googleapis.com/css2?family=Changa+One&display=swap');

/* ---------- scope: ONLY buttons under this parent get styled */
.button-flex-scope {
  /* base button */
  .button-flex {
    /* avoid outer shadow clipping */
    margin-left: 5px;
    margin-right: 5px;

    /* shared scales */
    --label-size: 2rem;     /* md default */
    --icon-mult: 0.9;       /* icon ≈ 90% of label size */
    --gap: .35em;           /* icon↔text gap */
    --pad-x: 1em;           /* horizontal label padding */

    position: relative;
    display: inline-flex;
    vertical-align: middle; /* fixes baseline jump when left icon exists */
    line-height: 1;
    align-items: center;
    gap: var(--gap);
    border-radius: 8px;
    text-decoration: none;
    cursor: pointer;
    transition: transform .08s ease, box-shadow .2s ease-in-out; /* press feel */
    will-change: transform;
    color: #eff6ec;

    /* unified glossy face across label + icons */
    /* gradient is applied via variants by setting --c */
    &::before {
      content: "";
      position: absolute; inset: 0;
      border-radius: 8px;
      z-index: 0;
      transition: transform .2s ease-in-out, filter .2s ease-in-out;
      box-shadow: inset 0 1px rgba(255,255,255,.2), inset 0 -1px rgba(0,0,0,.2);
      background: linear-gradient(var(--c, #2563eb),
                 color-mix(in srgb, var(--c, #2563eb) 92%, #000)); /* darken ~8% */
    }
    > * { position: relative; z-index: 1; }

    /* label */
    span {
      font-size: var(--label-size);
      font-family: 'Changa One', arial, serif;
      padding: .625em var(--pad-x);
      border-top: none; border-bottom: none;
      border-radius: 8px;
      transition: transform .2s ease-in-out;
      background: none;
      text-shadow: 0 -1px 1px rgba(0,0,0,.35);
    }

    /* zero padding when icons are present (via component classes) */
    &.has-left-icon  > span { padding-left: 0; }
    &.has-right-icon > span { padding-right: 0; }
    &.has-left-icon.has-right-icon > span { padding-left: 0; padding-right: 0; }

    /* icons — scaled and centered with label */
    .button-flex__icon {
      display: inline-flex;
      align-items: center;
      justify-content: center;
      width:  calc(var(--label-size) * var(--icon-mult));
      height: calc(var(--label-size) * var(--icon-mult));
      line-height: 1;
      pointer-events: none;
      margin-left:15px;
      margin-right:15px;
    }
    .button-flex__icon svg { width: 100%; height: 100%; display: block; }
    .button-flex__icon--left  { margin-right: .1em; }
    .button-flex__icon--right { margin-left:  .1em; }

    /* PRESS EFFECT — only when NOT disabled/loading */
    &:not(.is-disabled):not([aria-disabled="true"]):not(:disabled):not(.is-loading):not([aria-busy="true"]):active {
      transform: translateY(4px);
      box-shadow: 0 8px 0 color-mix(in srgb, var(--c, #2563eb) 55%, #000),
                  0 7px 10px rgba(0,0,0,.25);
    }

    /* sizes -> set shared label size var */
    &.btn--sm { --label-size: 1.25rem; }
    &.btn--md { --label-size: 2rem; }
    &.btn--lg { --label-size: 2.5rem; }

    /* LOADING (Phosphor spinner) */
    &.is-loading,
    &[aria-busy="true"] {
      cursor: progress;
      span::after { content: none !important; } /* ensure no pseudo spinner */
      .button-flex__spinner { animation: btnflex-spin var(--spin-speed, .9s) linear infinite; }
    }
    /* keep cursor consistent on children */
    &.is-loading *, &[aria-busy="true"] * { cursor: inherit !important; }

    /* DISABLED */
    &.is-disabled,
    &[aria-disabled="true"],
    &:disabled {
      --disabled: #9ca3af;
      color: #4a5971; /* good contrast on gray face */
      cursor: not-allowed;
      box-shadow: 0 8px 0 color-mix(in srgb, var(--disabled) 55%, #000),
                  0 10px 15px rgba(0,0,0,.20);
      transform: none !important;
      transition: none; /* prevents press flicker */
    }
    &.is-disabled::before,
    &[aria-disabled="true"]::before,
    &:disabled::before {
      background: linear-gradient(var(--disabled),
                  color-mix(in srgb, var(--disabled) 92%, #000));
    }
    &.is-disabled span,
    &[aria-disabled="true"] span,
    &:disabled span {
      text-shadow: 0 -1px 1px rgba(0,0,0,.25);
    }

    /* generic variant styling (uses --c set below, plus optional --t) */
    color: var(--t, #eff6ec);
    box-shadow: 0 8px 0 color-mix(in srgb, var(--c, #2563eb) 55%, #000),
                0 10px 15px rgba(0,0,0,.35);
  }

  @keyframes btnflex-spin { to { transform: rotate(360deg); } }

  /* ----------------------- variants (set --c and opt. --t) ----------------------- */
  .button-flex.btn--green      { --c:#008752; }
  .button-flex.btn--emerald    { --c:#10b981; }
  .button-flex.btn--teal       { --c:#14b8a6; }
  .button-flex.btn--cyan       { --c:#06b6d4; }
  .button-flex.btn--sky        { --c:#0ea5e9; }
  .button-flex.btn--azure      { --c:#2a7fff; }
  .button-flex.btn--blue       { --c:#2563eb; }
  .button-flex.btn--indigo     { --c:#4f46e5; }
  .button-flex.btn--violet     { --c:#8b5cf6; }
  .button-flex.btn--purple     { --c:#a855f7; }
  .button-flex.btn--magenta    { --c:#d946ef; }
  .button-flex.btn--pink       { --c:#ec4899; }
  .button-flex.btn--crimson    { --c:#dc143c; }
  .button-flex.btn--red        { --c:#ef4444; }
  .button-flex.btn--orange     { --c:#f97316; }
  .button-flex.btn--amber      { --c:#f59e0b; }
  .button-flex.btn--yellow     { --c:#facc15; --t:#0b1320; }
  .button-flex.btn--gold       { --c:#eab308; --t:#0b1320; }
  .button-flex.btn--lime       { --c:#84cc16; --t:#0b1320; }
  .button-flex.btn--chartreuse { --c:#7fff00; --t:#0b1320; }
  .button-flex.btn--olive      { --c:#6b8e23; }
  .button-flex.btn--mint       { --c:#3eb489; }
  .button-flex.btn--turquoise  { --c:#40e0d0; --t:#0b1320; }
  .button-flex.btn--navy       { --c:#1f2a44; }
  .button-flex.btn--royal      { --c:#4169e1; }
  .button-flex.btn--brown      { --c:#8b5e3c; }
  .button-flex.btn--chocolate  { --c:#7b3f00; }
  .button-flex.btn--copper     { --c:#b87333; }
  .button-flex.btn--sand       { --c:#c2b280; --t:#0b1320; }
  .button-flex.btn--stone      { --c:#78716c; }
  .button-flex.btn--gray       { --c:#6b7280; }
  .button-flex.btn--slate      { --c:#475569; }
  .button-flex.btn--graphite   { --c:#374151; }
  .button-flex.btn--black      { --c:#111827; }
  .button-flex.btn--white      { --c:#ffffff; --t:#0b1320; }

  /* Optional centering helper for rows of buttons */
  .btn-container { max-width: 60em; margin: 2em auto; text-align: center; }
}
